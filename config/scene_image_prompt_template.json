{
  "spec_version": "1.0",
  "__comment": [
    "Scene image prompt template for generating concise AI diffusion prompts.",
    "Goal: Transform scene memory context into effective visual description prompts.",
    "Constraint: Final prompt must be â‰¤120 characters for efficient local AI processing.",
    "Style: Consistent pencil art illustration aesthetic for text adventure scenes."
  ],

  "system_prompt": "You are a concise prompt generator for an interactive text adventure. Create brief, effective AI diffusion prompts that strictly follows these guidelines and content elements while capturing the essence of the current fiction scene effectively highlights the most relevant elements from the provided facts. Focus provided room descriptions, items, player actions, events. Your generated prompt must smartly conduce to text-less images without relying on negative prompting. Always stay under {max_prompt_length} characters total so use your token budget wisely.",

  "scene_template": "Create an effective AI diffusion prompt that will generate a {style_prefix} of a fiction scene that shows the following elements {room_name}: {description}; visible items {visible_items}; where player {playername} is displayed entering the scene by {entering_action} and depicting the most recent events that were: {recent_events}.",

  "context_sections": [
    "room_name",
    "description", 
    "visible_items",
    "entering_action",
    "recent_events"
  ],

  "style_prefix": "*beautifully detailed monochrome pencil line art *",
  "max_prompt_length": 120,

  "value_sources": {
    "room_name": {
      "path": "current_scene.room_name"
    },
    "description": {
      "path": "current_scene.description_lines",
      "transform": "join_truncate",
      "max_length": 200
    },
    "visible_items": {
      "path": "current_scene.current_items", 
      "transform": "join_list",
      "max_items": 3
    },
    "playername": {
      "path": "player_name"
    },
    "entering_action": {
      "path": "current_scene.action_records",
      "transform": "last_item",
      "field": "command"
    },
    "recent_events": {
      "path": "current_scene.action_records",
      "transform": "last_item", 
      "field": "result",
      "max_length": 100
    }
  }
}